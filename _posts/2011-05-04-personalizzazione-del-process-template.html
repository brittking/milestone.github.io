---
layout: post
title: 'Personalizzazione del Process Template: gruppi e permessi personalizzati'
date: '2011-05-04T07:00:00.000+02:00'
author: Mauro Servienti
tags:
- Team Foundation Server
modified_time: '2012-08-04T20:19:44.877+02:00'
thumbnail: https://lh5.googleusercontent.com/-u7vq2k7s4vM/T0SlY-StrHI/AAAAAAAAB1o/8D8cpRf5lzU/s72-c/wlEmoticon-smilewithtongueout_2_16.png
blogger_id: tag:blogger.com,1999:blog-6511237790974218081.post-6405427176035175378
blogger_orig_url: http://milestone.topics.it/2011/05/personalizzazione-del-process-template.html
permalink: /2011/05/personalizzazione-del-process-template.html
---

<span>Una delle cose veramente interessanti di TFS 2010 è la pressoché infinita possibilità di personalizzazione a qualsiasi livello, o quasi <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smilewithtongueout" alt="Smile with tongue out" src="https://lh5.googleusercontent.com/-u7vq2k7s4vM/T0SlY-StrHI/AAAAAAAAB1o/8D8cpRf5lzU/wlEmoticon-smilewithtongueout_2_16.png"></span><br>  <span>In questi giorni sono uscite un paio di necessità:</span><br>  <ul>   <li>far si che per impostazione predefinita i “Contributors” abbiano i permessi per amministrare le Branch: se lavorate su un modello basato su <em>branch-per-feature</em> o se fate molti <em>spike</em> è vitale che il developer abbia molta libertà altrimenti l’amministratore del TFS impazzisce; </li>    <li>far si che in ogni nuovo Team Project che viene creato esista un nuovo gruppo “Managers” che abbia gli stessi permessi dei Contributors ma in più possa anche amministrare Aree e Iterazioni, cosa che per impostazione predefinita possono fare solo gli amministratori; Anche in questo caso è una questione di “comodità” i manager coincidono con i “project manager” e hanno quindi tutti i diritti e le competenze per fare questa attività sul progetto di cui sono responsabili; </li> </ul>  <span>L’operazione nel complesso è molto semplice, dopo aver scaricato il Team Project Template che volete modificare (nel nostro esempio “Microsoft Visual Studio Scrum 1.0”) dovete editare i template relativi ai vari task di creazione del Team Project (in grassetto le cose che abbiamo modificato):</span><br>  <span><em>File: </em>ProcessTemplate.xml</span><br>  <blockquote>   <span><ProcessTemplate>      <br>  <metadata>       <br>    <name><strong>Microsoft Visual Studio Scrum 1.1 (custom)</strong></name>       <br>    <description>….</description>       <br>    <plugins>…</plugins>       <br>  </metadata>       <br>  <groups>       <br>    … [CUT] …       <br>    <em><group id="Groups" description="Create Groups and assign Permissions." completionMessage="Groups created and Permissions assigned.">        <br>      <dependencies>         <br>        <dependency groupId="Classification" />         <br>      </dependencies>         <br>      <taskList filename="<font style="background-color: #ffff00">Groups and Permissions\GroupsAndPermissions.xml</font>" />         <br>    </group>         <br></em>    … [CUT] …       <br>    <em><group id="VersionControl" description="Creating version control." completionMessage="Version control task completed.">        <br>      <dependencies>         <br>        <dependency groupId="Classification" />         <br>        <dependency groupId="Groups" />         <br>        <dependency groupId="WorkItemTracking" />         <br>      </dependencies>         <br>      <taskList filename="<font style="background-color: #ffff00">Version Control\VersionControl.xml</font>" />         <br>    </group></em>       <br>    … [CUT] …       <br>  </groups>       <br></ProcessTemplate></span><br> </blockquote>  <span>Ho anche evidenziato un paio di cose degne di nota. Se fate bene attenzione vi rendete conto al volo che avete davanti un sistema per descrivere un workflow. Procediamo quindi con le modifiche che ci interessano:</span><br>  <span><em>File: </em>Groups and Permissions\GroupsAndPermissions.xml</span><br>  <span>Nel file mi sono limitato ad aggiungere la definizione di un nuovo gruppo “Managers”, un elenco dettagliato dei permessi è <a href="http://msdn.microsoft.com/en-us/library/ms252587.aspx" target="_blank">disponibile su MSDN</a>.</span><br>  <blockquote>   <span><group name="Managers" description="Members of this group can add, modify, and delete items within the team project and can manage areas and iterations.">      <br>  <permissions>       <br>    <permission name="GENERIC_READ" class="PROJECT" allow="true" />       <br>    <permission name="DELETE_TEST_RESULTS" class="PROJECT" allow="true" />       <br>    <permission name="PUBLISH_TEST_RESULTS" class="PROJECT" allow="true" />       <br>    <permission name="VIEW_TEST_RESULTS" class="PROJECT" allow="true" />       <br>    <permission name="GENERIC_READ" class="CSS_NODE" allow="true" />       <br>    <permission name="WORK_ITEM_READ" class="CSS_NODE" allow="true" />       <br>    <permission name="WORK_ITEM_WRITE" class="CSS_NODE" allow="true" />       <br>    <permission name="MANAGE_TEST_PLANS" class="CSS_NODE" allow="true" />       <br>    <permission name="MANAGE_TEST_ENVIRONMENTS" class="PROJECT" allow="true" />       <br>    <permission name="MANAGE_TEST_CONFIGURATIONS" class="PROJECT" allow="true" />            <br><font style="background-color: #ffffff"></font><strong>    </strong><strong><permission name="CREATE_CHILDREN" class="CSS_NODE" allow="true" />        <br>    <permission name="GENERIC_WRITE" class="CSS_NODE" allow="true" />         <br>    <permission name="DELETE" class="CSS_NODE" allow="true" />            <br>    <permission name="CREATE_CHILDREN" class="ITERATION_NODE" allow="true" />         <br>    <permission name="GENERIC_WRITE" class="ITERATION_NODE" allow="true" />         <br>    <permission name="DELETE" class="ITERATION_NODE" allow="true" />         <br>    <permission name="GENERIC_READ" class="ITERATION_NODE" allow="true" /> </strong><font style="background-color: #ffffff"></font>           <br>  </permissions>       <br></group></span><br> </blockquote>  <span>Ho evidenziato i permessi che ho aggiunto rispetto al gruppo Contributors per garantire la possibilità di amministrare le Aree e le Iterazioni.</span><br>  <span><em>File: </em>Version Control\VersionControl.xml</span><br>  <blockquote>   <span><?xml version="1.0" encoding="utf-8"?>      <br><tasks>       <br>  <task id="VersionControlTask" name="Create Version Control area" plugin="Microsoft.ProjectCreationWizard.VersionControl" completionMessage="Version control Task completed.">       <br>    <dependencies />       <br>    <taskXml>       <br>      <permission allow="Read, PendChange, Checkin, Label, Lock, ReviseOther, UnlockOther, UndoOther, LabelOther, AdminProjectRights, CheckinOther, Merge, ManageBranch" identity="[$$PROJECTNAME$$]\$$PROJECTADMINGROUP$$" />       <br>      <permission allow="Read, PendChange, Checkin, Label, Lock, Merge, <font style="background-color: #ffff00"></font><strong>ManageBranch</strong><font style="background-color: #ffff00"></font>" identity="[$$PROJECTNAME$$]\Contributors" />       <br>      <permission allow="Read, PendChange, Checkin, Label, Lock, Merge" identity="[$$PROJECTNAME$$]\Builders" />       <br>      <strong><permission allow="Read, PendChange, Checkin, Label, Lock, Merge,</strong><strong> ManageBranch</strong><strong><font style="background-color: #ffff00"></font>" identity="[$$PROJECTNAME$$]\Managers" /></strong>       <br>      <permission allow="Read" identity="[$$PROJECTNAME$$]\Readers" />       <br>      <checkin_note label="Code Reviewer" required="false" order="1" />       <br>      <checkin_note label="Security Reviewer" required="false" order="2" />       <br>      <checkin_note label="Performance Reviewer" required="false" order="3" />       <br>      <exclusive_checkout required="false" />       <br>      <get_latest_on_checkout required="false" />       <br>    </taskXml>       <br>  </task>       <br></tasks></span><br> </blockquote>  <span>Questo è l’ultimo passaggio, definiamo che per la parte di Source Control vogliamo garantire ai Contributors il permesso “ManageBanch” e aggiungiamo anche qui il gruppo Managers con gli stessi permessi di Contributors.</span><br>  <span>.m</span><br>
