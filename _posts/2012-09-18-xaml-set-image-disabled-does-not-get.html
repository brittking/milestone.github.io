---
layout: post
title: Xaml set image disabled does not get grayed out
date: '2012-09-18T06:52:00.001+02:00'
author: Mauro Servienti
tags:
- Radical
- Xaml
modified_time: '2012-09-18T06:52:38.317+02:00'
thumbnail: http://lh4.ggpht.com/-bPDsUrO9-YY/UFf-A0yhkSI/AAAAAAAACKg/LPMo0fg-D5g/s72-c/image_thumb.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-6511237790974218081.post-4144264948128214591
blogger_orig_url: http://milestone.topics.it/2012/09/xaml-set-image-disabled-does-not-get.html
permalink: /2012/09/xaml-set-image-disabled-does-not-get.html
---

<p>if you have a situation like the following:</p> <blockquote> <div id="codeSnippetWrapper"><pre id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button</span> <span style="color: #ff0000">IsEnabled</span><span style="color: #0000ff">="{Binding Path=IsChecked}"</span> <span style="color: #ff0000">Height</span><span style="color: #0000ff">="23"</span> <span style="color: #ff0000">Width</span><span style="color: #0000ff">="75"</span><span style="color: #0000ff">&gt;</span><br>    <span style="color: #0000ff">&lt;</span><span style="color: #800000">Button.Content</span><span style="color: #0000ff">&gt;</span><br>        <span style="color: #0000ff">&lt;</span><span style="color: #800000">StackPanel</span> <span style="color: #ff0000">Orientation</span><span style="color: #0000ff">="Horizontal"</span><span style="color: #0000ff">&gt;</span><br>            <span style="color: #0000ff">&lt;</span><span style="color: #800000">Image</span> <span style="color: #ff0000">Stretch</span><span style="color: #0000ff">="Uniform"</span> <span style="color: #ff0000">Width</span><span style="color: #0000ff">="32"</span> <br>                   <span style="color: #ff0000">Source</span><span style="color: #0000ff">="/Radical.Samples;component/Samples/Effects/Blender.png"</span> <span style="color: #0000ff">/&gt;</span><br>            <span style="color: #0000ff">&lt;</span><span style="color: #800000">TextBlock</span> <span style="color: #ff0000">Margin</span><span style="color: #0000ff">="3"</span> <span style="color: #ff0000">Text</span><span style="color: #0000ff">="Button"</span> <span style="color: #0000ff">/&gt;</span><br>        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">StackPanel</span><span style="color: #0000ff">&gt;</span><br>    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button.Content</span><span style="color: #0000ff">&gt;</span><br><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button</span><span style="color: #0000ff">&gt;</span></pre><br></div></blockquote>
<p>and an obvious result like this:</p>
<p><a href="http://lh3.ggpht.com/-AyE7jVAYMOo/UFf-AKcLVtI/AAAAAAAACKY/vmXs_sV-Py4/s1600-h/image%25255B2%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="http://lh4.ggpht.com/-bPDsUrO9-YY/UFf-A0yhkSI/AAAAAAAACKg/LPMo0fg-D5g/image_thumb.png?imgmax=800" width="148" height="69"></a></p>
<p>you have the problem that when the button is disabled the image is not grayed out as you expect. The solution is neat and trivial, once discovered.</p>
<p><strong>GrayscaleEffect</strong></p>
<p>Add to your project resources the following:</p>
<blockquote>
<div id="codeSnippetWrapper"><pre id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><span style="color: #0000ff">&lt;</span><span style="color: #800000">effects:GrayscaleEffect</span> <span style="color: #ff0000">x:Key</span><span style="color: #0000ff">="ge"</span> <span style="color: #0000ff">/&gt;</span><br><span style="color: #0000ff">&lt;</span><span style="color: #800000">Style</span> <span style="color: #ff0000">TargetType</span><span style="color: #0000ff">="Image"</span><span style="color: #0000ff">&gt;</span><br>    <span style="color: #0000ff">&lt;</span><span style="color: #800000">Style.Triggers</span><span style="color: #0000ff">&gt;</span><br>        <span style="color: #0000ff">&lt;</span><span style="color: #800000">Trigger</span> <span style="color: #ff0000">Property</span><span style="color: #0000ff">="IsEnabled"</span> <span style="color: #ff0000">Value</span><span style="color: #0000ff">="False"</span><span style="color: #0000ff">&gt;</span><br>            <span style="color: #0000ff">&lt;</span><span style="color: #800000">Setter</span> <span style="color: #ff0000">Property</span><span style="color: #0000ff">="Effect"</span> <span style="color: #ff0000">Value</span><span style="color: #0000ff">="{StaticResource ResourceKey=ge}"</span> <span style="color: #0000ff">/&gt;</span><br>        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">Trigger</span><span style="color: #0000ff">&gt;</span><br>    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">Style.Triggers</span><span style="color: #0000ff">&gt;</span><br><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Style</span><span style="color: #0000ff">&gt;</span></pre><br></div></blockquote>
<p>We are telling, using a trigger, to the engine that we want to apply the specified effect to the trigger target when the value of the target IsEnabled property is false and at runtime we get this:</p>
<p><a href="http://lh3.ggpht.com/-yYFjhruiOMs/UFf-BlIZjfI/AAAAAAAACKo/Y5p_oTYe2rM/s1600-h/image%25255B5%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="http://lh6.ggpht.com/-q4K4WRjpCyo/UFf-CkF4AVI/AAAAAAAACKs/Z0Bsy8QHDKk/image_thumb%25255B1%25255D.png?imgmax=800" width="171" height="86"></a></p>
<p><strong>Where does the Grayscale effect comes from?</strong></p>
<p><a href="http://radical.codeplex.com/" target="_blank">Radical</a> provides one, but out there there are tons of samples.</p>
<p>Be aware that if you download the source code from <a href="http://codeplex.com/" target="_blank">CodePlex</a> you need the DirectX SDK in order to compile the GrayscaleEffect, so it is much easier to add a reference to <a href="http://nuget.org/packages/Radical.Windows" target="_blank">Radical.Windows</a> via <a href="http://nuget.org" target="_blank">Nuget</a>.</p>
<p><a href="http://lh3.ggpht.com/-IX7Ao8muL1w/UFf-DvVpuXI/AAAAAAAACK4/DYOsPwZomVg/s1600-h/image%25255B10%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="http://lh6.ggpht.com/-hkUBdKee_HI/UFf-EgeEUjI/AAAAAAAACLA/lhLRj17z9bY/image_thumb%25255B4%25255D.png?imgmax=800" width="493" height="53"></a></p>
<p>.m</p>  
