---
layout: post
title: TechEd Developer - Garbage Collection
date: '2006-11-08T13:44:00.000+01:00'
author: Mauro Servienti
tags:
- Why not...
modified_time: '2012-01-25T21:24:38.377+01:00'
blogger_id: tag:blogger.com,1999:blog-6511237790974218081.post-4799565001881294721
blogger_orig_url: http://milestone.topics.it/2006/11/teched-developer-garbage-collection.html
permalink: /2006/11/teched-developer-garbage-collection.html
---

Claudio Caldato - CLR Program Manager <span>Introduzione sui performance counters, sul loro uso e su alcune delle loro peculiarità, siamo poi passati alle principali cause che portano ad una OutOfMemoryException, le cause per ora sono le cause interne, sempre per colpa del ns codice, ma ci sta spiegando cosa succede internamente al fx.</span><br> <span>Siamo poi passati agli strumenti necessari per affrontare questi problemi e siamo inevitabilmewnte ricaduti su WinDbg e in generale sui Debugging Tools per Windows, stiamo quindi rivedendo per la 3 volta le stesse cose ma la cosa più interessante è che per la 3 volta le stiamo affrontando da un punto di vista diverso, in questo caso ci stiamo focalizzando sulla memoria e su tutti gli "<em>iusses</em>" ad essa legati sempre nell'ottica di capire come ottimizzare e assecondare al meglio la Garbage Collection...</span><br> <span>Molto interessante la possibilità di impostare dei break point in WinDbg. La cosa può essere fatta con il comando "bp" passandogli una serie di parametri (tutt'altro che semplice) che permettono di specificare dove e in che condizioni fermarsi.</span><br> <span>Passiamo poi alla casistica in cui i problemi siano legati ad una elevata frammentazione della memoria o al consumo di cicli CPU dovuto ad un'eccessivo lavoro che il GC deve fare, generalmente questo secondo scenario è dovuto ad un elevato numero di Collections in Generation 2 o ad un ciclo di Colletion della Generation 2 troppo costoso.</span><br> <span>Ci ha poi mostrato un interessante uso dei Pperformance Counter per cercare di capire quanto tempo spende la ns applicazione per eseguire le collection delle generazioni, questo è estremamente utile in tutti quie casi in cui si ha bisogno di tenere strettamente sotto controllo l'applicazione in quegli scenari simil "real time" o "soft real time" come li ha definiti Claudio.</span><br> <span>Durante la Q&A ha poi <em>buttato li</em> una delle novità di Orcas che permetteranno di controllare la modalità con cui il GC interviene, ad esempio chiedendo al GC di non intervenire per un certo "time frame" o chiedendo al GC di intervenire (similmente a GC.Collect()) ma lasciando al GC l'onere di decidere se sia effettivamente necessario intervenire, cosa che non avviene adesso perchè una chiamata a GC.Collect() porta ad una Collection immediata cosa che non è detto sia sempre necessaria. </span><br> <span>Che dire... giornatona oggi, sono veramente soddisfatto, adesso ci (stavolta con Stefano Mostarda) aspettano altre 2 "deep sessions" su WCF che spero non tradiscano le aspettative, ma lo speaker che è lo stesso di ieri e quindi promette bene!</span><br> <span>Stay tuned ;-)</span><br> <span>.m</span><br>
