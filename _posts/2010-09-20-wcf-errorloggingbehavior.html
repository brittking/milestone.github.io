---
layout: post
title: Wcf “ErrorLoggingBehavior”
date: '2010-09-20T09:00:00.000+02:00'
author: Mauro Servienti
tags:
- Software Mason
- Wcf
modified_time: '2012-02-20T12:19:43.789+01:00'
thumbnail: https://lh5.googleusercontent.com/-RiGW43q3e-0/T0IsRwqz_-I/AAAAAAAABrg/jelv_aws_AQ/s72-c/wlEmoticon-winkingsmile_2_2.png
blogger_id: tag:blogger.com,1999:blog-6511237790974218081.post-3535225613042054844
blogger_orig_url: http://milestone.topics.it/2010/09/wcf-errorloggingbehavior.html
---

<span>Credo di poter affermare che l’approccio all’uso di Wcf è fatto da due fasi fondamentali:</span><br>  <ul>   <li>“Neonatale”: lo sviluppatore utilizza WCF limitandosi ai template di progetto offerti da Visual Studio e ai proxy prodotti da Visual Studio/svcutil.exe; </li>    <li>“Curiosa”: se lo sviluppatore è passato attraverso Web Services e in particolare attraverso WSE comincia a farsi tante domande sul perchè Wcf (e in particolare la sua infrastruttura) sia così apparentemente (e non solo apparentemente) complesso(a)…. </li> </ul>  <span>L’altra cosa che si scopre molto rapidamente è che Wcf è una brutta bestia… veramente una brutta bestia caratterizzata da due cose che stanno agli antipodi:</span><br>  <ul>   <li>uno degli aspetti positivi, “più” positivi, è la ab-norme (cit.) possibilità di customizzazione e la capillarità della customizzazione; </li>    <li>uno degli aspetti negativi che resta, anche nella versione 4.0, il vero tallone d’achille è la gestione della configurazione: quello che manca fondamentalmente è un tool degno del suo nome che permetta di gestire le infinite possibbilità di configurazione e l’infinita complessità a cui la configurazione può tendere; </li> </ul>  <span>Man mano che cominciate a customizzare Wcf e quindi a manipolare la configurazione cominciate sempre più spesso a csontrarvi con gli errori più assurdi, e meno parlanti, della storia della programmazione… il vero problema è che spessissimo è anche impossibile piazzare il fatidico breakpoint perchè l’errore si verifica ben prima che il flusso del codice arrivi al vostro codice; ecco che nasce quindi la necessità di poter intercettare tutti gli errori che avvengono all’interno della pipeline di Wcf server side.</span><br>  <span><strong>ErrorLoggingBehavior</strong></span><br>  <span>Dopo un bel po’ di ricerche, si perchè scoprite molto rapidamente che la documentazione su Wcf è un’altro dei punti deboli del sistema, approdate ad una cosa che ricade sotto il cappello di “Behavior”, un behavior è, molto all’acqua di rose, qualcosa che potete iniettare in un punto (in base al tipo di behavior) della pipeline di Wcf al fine di customizzare il comportamento di Wcf stesso, un esempio è proprio la necessità di intercettare tutti gli errori:</span><br>  <blockquote>   <pre style="margin-top: auto; font-family: ; margin-bottom: auto"><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">class</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Log4NetErrorLoggingServiceBehavior</font></span><font style="font-size: 12pt"> : </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">IServiceBehavior</font></span><font style="font-size: 12pt">, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">IErrorHandler</font></span></font><br><font face="Consolas"><font style="font-size: 12pt">{</font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">static</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">readonly</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ILog</font></span><font style="font-size: 12pt"> logger = </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">LogManager</font></span><font style="font-size: 12pt">.GetLogger( </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">typeof</font></span><font style="font-size: 12pt">( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Log4NetErrorLoggingServiceBehavior</font></span><font style="font-size: 12pt"> ) );</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">void</font></span><font style="font-size: 12pt"> Validate( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceDescription</font></span><font style="font-size: 12pt"> serviceDescription, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceHostBase</font></span><font style="font-size: 12pt"> serviceHostBase ) { }</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">void</font></span><font style="font-size: 12pt"> AddBindingParameters( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceDescription</font></span><font style="font-size: 12pt"> serviceDescription, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceHostBase</font></span><font style="font-size: 12pt"> serviceHostBase, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Collection</font></span><font style="font-size: 12pt"><</font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceEndpoint</font></span><font style="font-size: 12pt">> endpoints, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">BindingParameterCollection</font></span><font style="font-size: 12pt"> bindingParameters ) { }</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">void</font></span><font style="font-size: 12pt"> ApplyDispatchBehavior( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceDescription</font></span><font style="font-size: 12pt"> serviceDescription, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ServiceHostBase</font></span><font style="font-size: 12pt"> serviceHostBase )</font></font><br><font face="Consolas"><font style="font-size: 12pt">	{</font></font><br><font face="Consolas"><font style="font-size: 12pt">		</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">foreach</font></span><font style="font-size: 12pt">( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ChannelDispatcherBase</font></span><font style="font-size: 12pt"> channelDispatcherBase </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">in</font></span><font style="font-size: 12pt"> serviceHostBase.ChannelDispatchers )</font></font><br><font face="Consolas"><font style="font-size: 12pt">		{</font></font><br><font face="Consolas"><font style="font-size: 12pt">			</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">var</font></span><font style="font-size: 12pt"> channelDispatcher = channelDispatcherBase </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">as</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">ChannelDispatcher</font></span><font style="font-size: 12pt">;</font></font><br><font face="Consolas"><font style="font-size: 12pt">			</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">if</font></span><font style="font-size: 12pt">( channelDispatcher != </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">null</font></span><font style="font-size: 12pt"> )</font></font><br><font face="Consolas"><font style="font-size: 12pt">			{</font></font><br><font face="Consolas"><font style="font-size: 12pt">				channelDispatcher.ErrorHandlers.Add( </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">this</font></span><font style="font-size: 12pt"> );</font></font><br><font face="Consolas"><font style="font-size: 12pt">			}</font></font><br><font face="Consolas"><font style="font-size: 12pt">		}</font></font><br><font face="Consolas"><font style="font-size: 12pt">	}</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">void</font></span><font style="font-size: 12pt"> ProvideFault( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Exception</font></span><font style="font-size: 12pt"> error, </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">MessageVersion</font></span><font style="font-size: 12pt"> version, </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">ref</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Message</font></span><font style="font-size: 12pt"> fault )</font></font><br><font face="Consolas"><font style="font-size: 12pt">	{</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	}</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">bool</font></span><font style="font-size: 12pt"> HandleError( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Exception</font></span><font style="font-size: 12pt"> error )</font></font><br><font face="Consolas"><font style="font-size: 12pt">	{</font></font><br><font face="Consolas"><font style="font-size: 12pt">		logger.Fatal( error );</font></font><br><font face="Consolas"><font style="font-size: 12pt">		</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">return</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">false</font></span><font style="font-size: 12pt">;</font></font><br><font face="Consolas"><font style="font-size: 12pt">	}</font></font><br><font face="Consolas"><font style="font-size: 12pt">}</font></font></pre>
</blockquote>

<span>Fonte: <a href="http://radical.codeplex.com/" target="_blank">Radical</a> <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-winkingsmile" alt="Winking smile" src="https://lh5.googleusercontent.com/-RiGW43q3e-0/T0IsRwqz_-I/AAAAAAAABrg/jelv_aws_AQ/wlEmoticon-winkingsmile_2_2.png"></span><br>

<span>Direi veramente banale, dopo che avete scoperto come farlo… <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="https://lh6.googleusercontent.com/-L2jE6TOHNqU/T0IsSeN6h2I/AAAAAAAABrk/ftrG_2Qaclo/wlEmoticon-smile_2_11.png"> la domanda che resta però ancora in sospeso è: bello… ok… ma come faccio ad agganciarlo al mio servizio Wcf? Nulla di più “facile” <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="cd5438db-8626-4d36-ba23-1b73f65fb1f3"></span><br>

<span><strong>BehaviorExtensionElement</strong></span><br>

<blockquote>
  <pre style="margin-top: auto; font-family: ; margin-bottom: auto"><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">class</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Log4NetErrorLoggingServiceSection</font></span><font style="font-size: 12pt"> : </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">BehaviorExtensionElement</font></span></font><br><font face="Consolas"><font style="font-size: 12pt">{</font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">protected</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">override</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">object</font></span><font style="font-size: 12pt"> CreateBehavior()</font></font><br><font face="Consolas"><font style="font-size: 12pt">	{</font></font><br><font face="Consolas"><font style="font-size: 12pt">		</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">return</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">new</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Log4NetErrorLoggingServiceBehavior</font></span><font style="font-size: 12pt">();</font></font><br><font face="Consolas"><font style="font-size: 12pt">	}</font></font><br><font face="Consolas"><font style="font-size: 12pt"> </font></font><br><font face="Consolas"><font style="font-size: 12pt">	</font></font><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">public</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">override</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Type</font></span><font style="font-size: 12pt"> BehaviorType</font></font><br><font face="Consolas"><font style="font-size: 12pt">	{</font></font><br><font face="Consolas"><font style="font-size: 12pt">		</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">get</font></span><font style="font-size: 12pt"> { </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">return</font></span><font style="font-size: 12pt"> </font><span style="color: "><font style="font-size: 12pt" color="#0000ff">typeof</font></span><font style="font-size: 12pt">( </font><span style="color: "><font style="font-size: 12pt" color="#2b91af">Log4NetErrorLoggingServiceBehavior</font></span><font style="font-size: 12pt"> ); }</font></font><br><font face="Consolas"><font style="font-size: 12pt">	}</font></font><br><font face="Consolas"><font style="font-size: 12pt">}</font></font></pre>
</blockquote>

<span>Che ci permette di fare questo:</span><br>

<blockquote>
  <pre style="margin-top: auto; font-family: ; margin-bottom: auto"><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff"><</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">system.serviceModel</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">  <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">services</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">service</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">name</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">MyService</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">      <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">endpoint</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">address</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">""</font><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">behaviorConfiguration</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">myBehaviorConfiguration</font></span><font style="font-size: 12pt">"</font></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">        </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">binding</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">basicHttpBinding</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">bindingConfiguration</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">""</font></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">        </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">contract</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">IMyService</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff"> /></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">service</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">  </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">services</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">  <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">extensions</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behaviorExtensions</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">      </font></span></font><strong><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff"><</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">add</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">name</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">log4NetErrorLoggingServiceBehavior</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">type</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">Topics.Radical.ServiceModel.Behaviors.Log4NetErrorLoggingServiceSection, Radical.ServiceModel, Version=1.0.0.23094, Culture=neutral, PublicKeyToken=null</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff"> /></font></span></font><br></strong><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behaviorExtensions</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">  </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">extensions</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">  <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behaviors</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">endpointBehaviors</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">      <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behavior</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">name</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">myBehaviorConfiguration</font></span><font style="font-size: 12pt">"</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">        <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">inlineWsdlEndpointExtension</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> /></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">      </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behavior</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">endpointBehaviors</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">serviceBehaviors</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">      <</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behavior</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> </font></span><span style="color: "><font style="font-size: 12pt" color="#ff0000">name</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">=</font></span><font style="font-size: 12pt">""</font><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">        </font></span></font><strong><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff"><</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">log4NetErrorLoggingServiceBehavior</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff"> /></font></span></font><br></strong><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">      </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behavior</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">    </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">serviceBehaviors</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff">  </</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">behaviors</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font><br><font face="Consolas"><span style="color: "><font style="font-size: 12pt" color="#0000ff"></</font></span><span style="color: "><font style="font-size: 12pt" color="#a31515">system.serviceModel</font></span><span style="color: "><font style="font-size: 12pt" color="#0000ff">></font></span></font></pre>
</blockquote>

<span>In questo modo possiamo agganciare e sganciare il nostro behavior on-the-fly senza toccare il codice del servizio e avere finalmente accesso ad informazioni importantissime per capire quali sono i problemi che stanno impedendo al nostro servizio di funzionare correttamente… questo è fondamentale in particolare quando usate Wcf da un client Silverlight e cominciate a scontrarvi con il simpatico “NotFound”… <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smilewithtongueout" alt="Smile with tongue out" src="https://lh3.googleusercontent.com/-rrd77RBCo7o/T0IsSyTh2BI/AAAAAAAABrw/v5z4IhYnRyA/wlEmoticon-smilewithtongueout_2_5.png"></span><br>

<span><em>Happy Wcf-ing</em> <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-openmouthedsmile" alt="Open-mouthed smile" src="https://lh4.googleusercontent.com/-rz96hZCYP5g/T0IsTc8cJkI/AAAAAAAABr0/9F5-TDwi694/wlEmoticon-openmouthedsmile_2_4.png"></span><br>

<span>.m</span><br>