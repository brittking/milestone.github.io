---
layout: post
title: L’attach di una collection di TFS 2010 e i sudori freddi…
date: '2011-02-02T14:13:00.000+01:00'
author: Mauro Servienti
tags:
- Software Mason
- Team Foundation Server
modified_time: '2012-08-04T17:51:53.804+02:00'
thumbnail: https://lh3.googleusercontent.com/-WcvbPrXl5ig/T0SlFbfhpeI/AAAAAAAABzY/lm7Bn8IY8z0/s72-c/wlEmoticon-smile_2_18.png
blogger_id: tag:blogger.com,1999:blog-6511237790974218081.post-7506794677032821944
blogger_orig_url: http://milestone.topics.it/2011/02/lattach-di-una-collection-di-tfs-2010-e.html
---

<span>Oggi piccolo attacco di panico, stavo facendo manutenzione sul nostro TFS aziendale e avevo bisogno, per questioni di spazio su disco, di spostare la DefaultCollection da una partizione ad un’altra:</span><br>  <ol>   <li>Metto la collection off-line;</li>    <li>Faccio il detach della collection;</li>    <li>Faccio il detach del database da Sql Server;</li>    <li>Copio i file fisici;</li>    <li>Mi accingo a fare nuovamente l’attach del database…</li> </ol>  <span><strong>Panic-mode-on</strong>: Unable to open the physical file “bla bla…”. Operating system error 5.</span><br>  <span>Ovviamente la prima cosa che ho pensato è stata: “merda sono morto…”   <br>quasi 7Gb di materiale perso, ovviamente abbiamo un piano di backup rigidissimo ma se posso evitare di dovervi mettere mano è molto meglio… <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="https://lh3.googleusercontent.com/-WcvbPrXl5ig/T0SlFbfhpeI/AAAAAAAABzY/lm7Bn8IY8z0/wlEmoticon-smile_2_18.png"></span><br>  <span>Dopo la sudata iniziale mi armo di pazienza e di “<a href="http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx" target="_blank">Process Monitor</a>” che fortunatamente mi evidenzia al volo la causa del problema: “Access Denied”, l’utente con cui stavo facendo l’operazione di attach, il mio, non aveva i permessi per “creare file” in quella directory facendo fallire l’operazione con quel simpatico e quantomeno inutile errore.</span><br>  <span>.m</span><br>