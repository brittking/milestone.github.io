---
layout: post
title: 'RavenDB: I want my data!'
date: '2012-05-29T13:16:00.001+02:00'
author: Mauro Servienti
tags:
- Domain Driven Design
- RavenDB
modified_time: '2012-05-29T13:16:44.749+02:00'
thumbnail: http://lh4.ggpht.com/-cH3AzG3IOUw/T8SwGr0hhiI/AAAAAAAACAQ/rLy9R1dwoyA/s72-c/wlEmoticon-smile2.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-6511237790974218081.post-8976523343885273472
blogger_orig_url: http://milestone.topics.it/2012/05/ravendb-i-want-my-data.html
permalink: /2012/05/ravendb-i-want-my-data.html
---

<p>Take a look also at <a href="http://www.codewrecks.com/blog/index.php/category/programming/ravendb/" target="_blank">Gian Maria’s posts</a> on the topic.</p> <p>As I’ve said during my talk about <a href="http://ravendb.net/" target="_blank">RavenDB</a> at the <a href="http://www.ugialt.net/#agenda" target="_blank">UgiAlt.Net conference</a> one of the most important concept of a document database and in this case of RavenDB is the concept of indexing. An index is the only way (well, not really) to read <em>your</em> data from the database, without an index the database is fairly useless.</p> <p>As all the databases out there RavenDB offers two main way to access your own data:</p> <ul> <li><strong>Load</strong> data: load expects to <em>search</em> data using the identifier of the requested data, a load operation does not requires an index to be performed nor it is affected by the indexing process; once the data is written the same data, using its identifier, is <strong>immediately</strong> accessible using a load operation;  <li><strong>Query</strong> data: querying is the art of searching data given a set of criteria, in a document database a query <strong>requires</strong> an index to be executed, in RavenDB does not exists the concept of full table scan, basically because table does not exists <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://lh4.ggpht.com/-cH3AzG3IOUw/T8SwGr0hhiI/AAAAAAAACAQ/rLy9R1dwoyA/wlEmoticon-smile2.png?imgmax=800"> and because it is a non sense to scan the entire database and for each document the entire document searching for something that matches the given criteria; </li></ul> <p><strong>Personal Statement</strong></p> <p>The fact that the concept of a full table scan does not exists, from my point of view, is one of the coolest features a database (note that I’ve not specified “document” here…) can provide…</p> <p><strong>What the hell are you saying?</strong></p> <p><img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://lh4.ggpht.com/-cH3AzG3IOUw/T8SwGr0hhiI/AAAAAAAACAQ/rLy9R1dwoyA/wlEmoticon-smile2.png?imgmax=800"> as I have already said document databases perfectly suites the <em>d</em>omain <em>d</em>riven <em>d</em>esign world (once again I’m not saying that relational databases does not suite, it is not a fight) or much better tend to drive the developer into the DDD world. In this travel the developer is <strong>forced</strong> to think about the shape of the data and to think about the usages of the data because the database requires the developer to define the indexes to query the stored data and indexes are directly related to data usages.</p> <p>Unlike relational databases where exists the concept of “normal form” of data in the document world there isn’t any rule on how to design the shape of the data and such lack can be considered a feature (once you gained a bunch of experience) because you are forced to think at the shape in term of scenarios and use cases and not only in term of good data design; on the other side relational databases tends to follow the developer always returning data even if the shape is the worst possible shape…obviously the developer will be punished at runtime once the application is in production…too late my dear.</p> <p>Let’s go back to the topic of the post…</p> <p><strong>Indexes</strong></p> <p>I suppose we all have understood that indexes are a requirement in a document database, but what are indexes? the most trivial compare can be done with an hash table where the indexed data is the key and the value is the document that matches those data: too simplistic but gives the idea.</p> <p>In the next post we’ll start diving into the indexing concepts of RavenDB, looking at:</p> <ul> <li>Simple Indexes (or Map);</li> <li>Index Projection;</li> <li>Map/Reduce;</li></ul> <p>.m</p>  
